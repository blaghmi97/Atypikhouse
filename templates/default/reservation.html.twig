{% extends 'base.html.twig' %}

{% block body %}
<br>
<div class="container">

{% for message in app.session.flashbag.get('refus') %}
 <div class="alert alert-dismissible alert-warning">
  <h4 class="alert-heading">Erreur !</h4>
  <p class="mb-0"> {{ message }}</p>
</div> 
{% endfor %}

 <div class="card border-info mb-3" >
  <div class="card-header"><strong >Les Disponibilités :</strong></div>
  <div class="card-body">
            
               <div id="calendrier">

              
               </div>
                 {{ form_start(form) }}
                  <br>
                 <div class="row">
                
                 <div class="col-md-6">
                 <div class="form-group">
        {{ form_row(form.dateDebut ,{'attr' : {'class':'form-control'}}) }}
        </div>
                 </div>
                 <div class="col-md-6">
               <div class="form-group">
        {{ form_row(form.dateFin ,{'attr' : {'class':'form-control'}}) }}
        </div>
          </div>
          </div>
          
          
                 <div class="form-group">
        <input type="submit" class="btn btn-success btn-block" value="Valider la résérvation" />
        </div
    {{ form_end(form) }}
            </div>
        </div>
     </div>
  


{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.4.0/main.min.css" 
integrity="sha256-uq9PNlMzB+1h01Ij9cx7zeE2OR2pLAfRw3uUUOOPKdA=" crossorigin="anonymous">

<style>
#calendrier{
    width: 100%;
    margin: auto;
}
</style>
{% endblock %}


    {% block javascripts %}
    
    
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.4.0/main.min.js" 
integrity="sha256-oenhI3DRqaPoTMAVBBzQUjOKPEdbdFFtTCNIosGwro0=" crossorigin="anonymous"></script>

<script>
  window.onload = () => {

     let calendarElt = document.querySelector("#calendrier")
     var calendar = new FullCalendar.Calendar(calendarElt, {
          initialView: 'dayGridMonth',
          locale:'fr',   
          events: {{ data|raw }},
        });
      
        calendar.render();
        
  }


</script>
    {% endblock %}